/*!! Core Analytics v6.13.2 - Copyright (c) 2015-2022 NRK */
this.CA6=this.CA6||{},this.CA6["engagement/content-consumed"]=function(){"use strict";var e;function n(e,n,t){if(e>n)throw new Error("min must not be greater than max in clamp(min, max, value)");return t<e?e:t>n?n:t}e=function(){function e(){for(var e=0,n={};e<arguments.length;e++){var t=arguments[e];for(var r in t)n[r]=t[r]}return n}function n(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(r){function o(){}function i(n,t,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var u=JSON.stringify(t);/^[\{\[]/.test(u)&&(t=u)}catch(e){}t=r.write?r.write(t,n):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var a in i)i[a]&&(c+="; "+a,!0!==i[a]&&(c+="="+i[a].split(";")[0]));return document.cookie=n+"="+t+c}}function u(e,t){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],u=0;u<i.length;u++){var c=i[u].split("="),a=c.slice(1).join("=");t||'"'!==a.charAt(0)||(a=a.slice(1,-1));try{var f=n(c[0]);if(a=(r.read||r)(a,f)||n(a),t)try{a=JSON.parse(a)}catch(e){}if(o[f]=a,e===f)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return u(e,!1)},o.getJSON=function(e){return u(e,!0)},o.remove=function(n,t){i(n,"",e(t,{expires:-1}))},o.defaults={},o.withConverter=t,o}((function(){}))},e();var t=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)?"pagehide":"beforeunload";function r(e,n,t){return e.reduce((function(e,r,o,u){var c=u[o-1];return e>=t?e:c&&i(c,n)&&i(r,n)?e+(r[2]-c[2]):e}),0)}function o(e,n){return e*n+n}function i(e,n){return e[0]<=n&&e[1]>=n}return function(e){var i=e.get("gaEmit"),u=[],c=document.body;function a(){var e=5*Math.round(c.offsetHeight/window.innerHeight),t={count:e,size:Math.round(c.offsetHeight/e)};f(),d("percentConsumed",function(e,t,i){for(var u=0,c=100/t.count,a=0;a<=t.count;a++){r(e,o(a,t.size),i)>=i&&(u+=c)}return n(0,100,Math.round(u))}(u,t,2e3)),d("scrollDepth",function(e,t,r){var o=(function(e){return e.reduce((function(e,n){return n[1]>e?n[1]:e}),0)}(e)-r)/t*100;return n(0,100,Math.round(o))}(u,c.offsetHeight,c.offsetTop)),u.slice(0)}function f(){u.push([Math.round(window.pageYOffset),Math.round(window.innerHeight+window.pageYOffset),Date.now()])}function d(n,t){e("event",{ga:{eventCategory:"content-consumed",eventAction:n,eventValue:t,nonInteraction:!0}})}i?(e.on("content-consumed",(function(n){void 0===n&&(n={});if(u.length)return void e("error",new Error("«content-consumed» is already initialized"));f(),function(n){if(n.target&&!(n.target instanceof window.Element))return void e("error",new Error("Target must be an DOM element"));n.target&&(c=n.target)}(n),window.addEventListener("scroll",(r=f,o=250,i=!1,function(){var e=arguments,n=this;i||(r.apply(n,e),i=!0,setTimeout((function(){i=!1}),o))})),window.addEventListener(t,a);var r,o,i})),e.on("content-consumed.completed",a)):e("error",new Error("«content-consumed» requires a Google Analytics tracking id"))}}();
//# sourceMappingURL=content-consumed.min.js.map
