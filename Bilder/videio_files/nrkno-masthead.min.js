var nrknoMastheadInitialize=function(e){"use strict";var t="undefined"!=typeof window,n=t&&/(android)/i.test(navigator.userAgent),r=t&&/iPad|iPhone|iPod/.test(String(navigator.platform)),a=function(e){void 0===e&&(e=!1);try{window.addEventListener("test",null,{get passive(){e=!0}})}catch(e){}return e}();function o(e,t,n,r){(void 0===r&&(r=!1),"undefined"==typeof window||window[e=e+"-"+t])||(a||"object"!=typeof r||(r=Boolean(r.capture)),("resize"===t||"load"===t?window:document).addEventListener(window[e]=t,n,r))}var i="prevent_recursive_dispatch_maximum_callstack";function d(e,t,n){void 0===n&&(n={});var r,a=""+i+t;if(e[a])return!0;e[a]=!0,"function"==typeof window.CustomEvent?r=new window.CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n);var o=e.dispatchEvent(r);return e[a]=null,o}function u(e){return Date.now().toString(36)+Math.random().toString(36).slice(2,5)}function l(e,t){if(void 0===t&&(t=document),e){if(e.nodeType)return[e];if("string"==typeof e)return[].slice.call(t.querySelectorAll(e));if(e.length)return[].slice.call(e)}return[]}var c="data-@nrk/core-toggle-2.2.2".replace(/\W+/g,"-"),s=n?"data":"aria",m=27;function f(e){return document.getElementById(e.getAttribute("aria-controls"))||e.nextElementSibling}function p(e,t){var n=f(e),r="true"===e.getAttribute("aria-expanded"),a="boolean"==typeof t?t:"toggle"===t?!r:r,o=r===a||d(e,"toggle",{relatedTarget:n,isOpen:r,willOpen:a})?a:"true"===e.getAttribute("aria-expanded"),i=!r&&o&&n.querySelector("[autofocus]");i&&setTimeout((function(){return i&&i.focus()})),e.setAttribute("aria-expanded",o),n[o?"removeAttribute":"setAttribute"]("hidden","")}o(c,"keydown",(function(e){if(e.keyCode===m)for(var t=e.target;t;t=t.parentElement){var n=t.id&&document.querySelector('[aria-controls="'+t.id+'"]')||t;if("false"!==n.getAttribute(c)&&"true"===n.getAttribute("aria-expanded"))return e.preventDefault(),n.focus(),p(n,!1)}}),!0),o(c,"click",(function(e){var t=e.target;if(e.defaultPrevented)return!1;for(var n=t,r=void 0;n;n=n.parentElement){var a=r&&n.id&&document.querySelector("["+c+'][aria-controls="'+n.id+'"]');if("BUTTON"!==n.nodeName&&"A"!==n.nodeName||n.hasAttribute(c)||(r=n),a){d(a,"toggle.select",{relatedTarget:f(a),currentTarget:r,value:r.textContent.trim()});break}}l("["+c+"]").forEach((function(e){var n="true"===e.getAttribute("aria-expanded"),r="false"!==e.getAttribute(c),a=f(e);e.contains(t)?p(e,!n):r&&n&&p(e,a.contains(t))}))}));var v=function(e,t){var n="object"==typeof t?t:{open:t};return r&&(document.documentElement.style.cursor="pointer"),l(e).map((function(e){var t=f(e),r="true"===e.getAttribute("aria-expanded"),a="boolean"==typeof n.open?n.open:"toggle"===n.open?!r:r,o=String((n.hasOwnProperty("popup")?n.popup:e.getAttribute(c))||!1);return n.value&&(e.innerHTML=n.value),"false"!==o&&"true"!==o&&e.setAttribute("aria-label",e.textContent+", "+o),e.setAttribute(c,o),e.setAttribute("aria-controls",t.id=t.id||u()),t.setAttribute(s+"-labelledby",e.id=e.id||u()),p(e,a),e}))},h='<svg viewBox="0 0 24 24" class="nrk-close" width="1.500em" height="1.500em" aria-hidden="true" focusable="false"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M12 10.5858l6.2929-6.29289 1.4142 1.41421L13.4142 12l6.2929 6.2929-1.4142 1.4142L12 13.4142l-6.29288 6.2929-1.41421-1.4142L10.5858 12 4.29291 5.70712l1.41421-1.41421L12 10.5858z"/></svg>';function g(e){var t="onLoginReady";void 0===window[t]&&(window[t]=function(){(window[t].q=window[t].q||[]).push(arguments)}),function(e){if(document.querySelector('script[src="'+e+'"]'))return;var t=document.createElement("script");t.async=!0,t.src=e,document.head.appendChild(t)}("/logginn.js"),window[t](e)}function b(e,t,n){var r=e.history&&e.history.replaceState,a=document.body.insertAdjacentElement("afterbegin",document.createElement("div"));if(a.className="nrk-masthead__info-banner nrk-masthead__info-banner--login",n&&(a.style="display: none;"),a.innerHTML='<span><span class="nrk-masthead__semibold">Hei</span>, du er nå logget på NRK.no fordi du allerede er logget på med din NRK-profil på denne enheten</span><button><span class="nrk-sr">Lukk beskjed om at du er pålogget</span>'+h+"</button>",a.querySelector("button").addEventListener("click",(function(){return a.parentElement.removeChild(a)})),a.querySelector(".nrk-masthead__semibold").textContent="Hei "+t,r){var o=e.location.href.replace(/autoLogin=true&?/,"").replace(/[?|&]$/,"");e.history.replaceState(e.history.state,document.title,o)}}function k(e){var t=document.body.insertAdjacentElement("afterbegin",document.createElement("div"));t.className="nrk-masthead__info-banner nrk-masthead__info-banner--cookie",t.innerHTML='<span><span class="nrk-masthead__semibold">Vi bruker informasjonskapsler</span> for å forbedre brukeropplevelsen. <a href="https://info.nrk.no/informasjonskapsler">Besøk vår informasjonsside</a> for mer detaljer, eller finn lenken i bunnen av NRK.no.</span><button><span class="nrk-sr">Lukk beskjed om informasjonskapsler</span>'+h+"</button>",t.querySelector("button").addEventListener("click",(function(){t.parentElement.removeChild(t);var n=document.querySelector(".nrk-masthead__info-banner--login");n&&n.removeAttribute("style");var r=new Date;r.setTime(r.getTime()+864e8),document.cookie=e+"=1; expires="+r.toUTCString()+"; path=/;"}))}function w(){if("undefined"!=typeof document){var e;(e=document.createElement("script")).type="text/javascript",e.src="https://log.medietall.no/analytics.js",e.async=!0,document.head.appendChild(e),v(".nrk-masthead__bars, .nrk-masthead__more",{popup:!0});var t=document.querySelectorAll(".nrk-masthead__user a"),n=Array.from(t),r="nrkno-cookie-information",a="nrkno-darkmode",o=document.cookie.split(";"),i=!(window.location.search.indexOf("header=off")>0);o.forEach((function(e){e.trim().substring(0,24)===r&&(i=!1),e.trim().substring(0,14)===a&&function(e){var t=e.substring(e.indexOf("=")+1),n=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;if(t&&("on"===t||"auto"===t&&n)){document.documentElement.className.includes("darkmode")||document.documentElement.classList.add("darkmode");var r=document.documentElement.getAttribute("data-theme");r&&"light"===r&&(document.documentElement.setAttribute("data-theme","dark"),document.documentElement.style.colorScheme="dark")}}(e)})),n&&n.length>0&&g((function(e){e&&(n.forEach((function(t){t.href="https://www.nrk.no/minside";var n=document.createElement("span");n.textContent=e.name,t.innerHTML='<svg viewBox="0 0 24 24" class="nrk-user-loggedin" width="1.500em" height="1.500em" aria-hidden="true" focusable="false"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M12 3c-4.97056 0-9 4.02944-9 9 0 4.9706 4.02944 9 9 9 4.9706 0 9-4.0294 9-9 0-4.97056-4.0294-9-9-9zm0-2C5.92487 1 1 5.92487 1 12c0 6.0751 4.92487 11 11 11 6.0751 0 11-4.9249 11-11 0-6.07513-4.9249-11-11-11zm0 17c-3.31371 0-6-2.6863-6-6h12c0 3.3137-2.6863 6-6 6zm3.4649-4H8.53513C9.22675 15.1956 10.5194 16 12 16s2.7733-.8044 3.4649-2z"/></svg>',t.appendChild(n)})),window.location.search.indexOf("autoLogin=true")>=0&&b(window,e.name,i));n.forEach((function(e){e.removeAttribute("hidden")}))})),i&&k(r),y()}}function y(){var e=document.querySelector('#nrk-masthead__jump-anchor[class~="nrk-masthead__jump-anchor--disabled"]');if(e){var t=function(){var e=document.querySelector('main, [role="main"], #innhold');if(e)return e;var t=document.querySelector("nrkno-player, article a, a > figure");if(!t)return;if("FIGURE"===t.tagName)return t.parentElement;return t}();t?(t.id||(t.id="innhold"),e.setAttribute("href","#"+t.id),e.classList.remove("nrk-masthead__jump-anchor--disabled"),e.classList.add("nrk-masthead__jump-anchor--enabled"),document.removeEventListener("DOMContentLoaded",y)):"loading"===document.readyState&&document.addEventListener("DOMContentLoaded",y)}}return window.initializeCookieBanner=k,window.initializeLoginBanner=b,e.initialize=w,Object.defineProperty(e,"__esModule",{value:!0}),w(),e}({});
//# sourceMappingURL=nrkno-masthead.min.js.map
