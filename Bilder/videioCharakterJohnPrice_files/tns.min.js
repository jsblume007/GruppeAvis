/*!! Core Analytics v6.13.2 - Copyright (c) 2015-2022 NRK */
this.CA6=this.CA6||{},this.CA6["statistics/tns"]=function(){"use strict";var n;function e(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.filter((function(n){return n})).forEach((function(e){Object.keys(e).forEach((function(t){return n[t]=e[t]}))})),n}function t(n){var e=n.src,t=n.onload,o=void 0===t?Function.prototype:t,i=n.crossorigin,r=void 0===i||i,c=n.nomodule,a=void 0!==c&&c,s=n.defer,u=void 0!==s&&s,d=n.type,l=document.querySelector('script[src="'.concat(e,'"]'))||document.createElement("script"),p=l.queue=l.queue||[];p.length?p.push(o):l.parentNode?o(l):(p.push(o),l.async=!0,l.onload=function(){return p.splice(0).forEach((function(n){return n(l)}))},l.setAttribute("src",e),r&&-1===e.indexOf("//localhost")&&l.setAttribute("crossorigin","anonymous"),a&&(l.noModule=!0),u&&(l.defer=!0),d&&(l.type=d),document.head.appendChild(l))}n=function(){function n(){for(var n=0,e={};n<arguments.length;n++){var t=arguments[n];for(var o in t)e[o]=t[o]}return e}function e(n){return n.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(o){function i(){}function r(e,t,r){if("undefined"!=typeof document){"number"==typeof(r=n({path:"/"},i.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var c=JSON.stringify(t);/^[\{\[]/.test(c)&&(t=c)}catch(n){}t=o.write?o.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var s in r)r[s]&&(a+="; "+s,!0!==r[s]&&(a+="="+r[s].split(";")[0]));return document.cookie=e+"="+t+a}}function c(n,t){if("undefined"!=typeof document){for(var i={},r=document.cookie?document.cookie.split("; "):[],c=0;c<r.length;c++){var a=r[c].split("="),s=a.slice(1).join("=");t||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var u=e(a[0]);if(s=(o.read||o)(s,u)||e(s),t)try{s=JSON.parse(s)}catch(n){}if(i[u]=s,n===u)break}catch(n){}}return n?i[n]:i}}return i.set=r,i.get=function(n){return c(n,!1)},i.getJSON=function(n){return c(n,!0)},i.remove=function(e,t){r(e,"",n(t,{expires:-1}))},i.defaults={},i.withConverter=t,i}((function(){}))},n();var o="https://log.medietall.no/analytics.v2.js",i="https://log.medietall.no/analytics.v2.legacy.js",r="no.nrk.mobil.app",c="no.nrk.mobil.nrknoapp";return function(n){n.on("pageview",(function(a){try{window.mblMeta||(window.mblMeta={}),e(window.mblMeta,{login:Number(Boolean(n.get("userId")))}),window.MBL||((null===(s=window.LPMeta)||void 0===s?void 0:s.channel)&&e(window.mblMeta,window.LPMeta),window.location.search.includes(c)&&!(null===(u=window.mblMeta)||void 0===u?void 0:u.channel)&&e(window.mblMeta,{channel:"mobile_ios_app"}),window.location.search.includes(r)&&!(null===(d=window.mblMeta)||void 0===d?void 0:d.channel)&&e(window.mblMeta,{channel:"mobile_android_app"}),t({src:o,crossorigin:!1,type:"module"}),t({src:i,crossorigin:!1,defer:!0,nomodule:!0}))}catch(e){n.log("failed to send linkpulse")}var s,u,d,l;return a.tnsSection?n.debug?n.log("TNS is disabled in debug mode"):(window.unispring||t({src:"https://static.nrk.no/core-analytics/latest/statistics/unispring.min.js"}),l=a.tnsSection,(window.unispringq=window.unispringq||[]).push({s:"nrk",cp:l,url:window.location.href.replace(/:\/\/www\./i,"://")}),void(window.unispring&&window.unispring.send())):n.log("A pageview was sent without action.tnsSection")}))}}();
//# sourceMappingURL=tns.min.js.map
