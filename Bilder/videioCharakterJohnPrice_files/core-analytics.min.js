/*!! Core Analytics v6.13.2 - Copyright (c) 2015-2022 NRK */
this.CA6=this.CA6||{},this.CA6["core-analytics"]=function(){"use strict";var t="https://static.nrk.no/core-analytics/major/6",n="CA6";function e(t,n,e){if(e||2===arguments.length)for(var o,r=0,c=n.length;r<c;r++)!o&&r in n||(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return t.concat(o||Array.prototype.slice.call(n))}var o;function r(t){"function"==typeof queueMicrotask?queueMicrotask(t):setTimeout(t)}o=function(){function t(){for(var t=0,n={};t<arguments.length;t++){var e=arguments[t];for(var o in e)n[o]=e[o]}return n}function n(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(o){function r(){}function c(n,e,c){if("undefined"!=typeof document){"number"==typeof(c=t({path:"/"},r.defaults,c)).expires&&(c.expires=new Date(1*new Date+864e5*c.expires)),c.expires=c.expires?c.expires.toUTCString():"";try{var i=JSON.stringify(e);/^[\{\[]/.test(i)&&(e=i)}catch(t){}e=o.write?o.write(e,n):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in c)c[u]&&(a+="; "+u,!0!==c[u]&&(a+="="+c[u].split(";")[0]));return document.cookie=n+"="+e+a}}function i(t,e){if("undefined"!=typeof document){for(var r={},c=document.cookie?document.cookie.split("; "):[],i=0;i<c.length;i++){var a=c[i].split("="),u=a.slice(1).join("=");e||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var s=n(a[0]);if(u=(o.read||o)(u,s)||n(u),e)try{u=JSON.parse(u)}catch(t){}if(r[s]=u,t===s)break}catch(t){}}return t?r[t]:r}}return r.set=c,r.get=function(t){return i(t,!1)},r.getJSON=function(t){return i(t,!0)},r.remove=function(n,e){c(n,"",t(e,{expires:-1}))},r.defaults={},r.withConverter=e,r}((function(){}))},o();var c="data-core-analytics",i=function o(){var i=[],a=[],u=Object.create(null),s=Object.create(null),f=Object.create(null),d=!1,l=function(t,n){if(function(t){return void 0!==(null==t?void 0:t.q)}(t))t.q.forEach((function(t){return l.apply(void 0,t)}));else if(function(t){return"function"==typeof t}(t)){var e=i.index>1?1-i.index:i.length;i.splice(e,0,t),d&&r((function(){return i.index||l.next()}))}else if("string"==typeof t){var o=function(){var e=s[t]||[];e.length||l.log("Missing handler for action ".concat(t)),a.push({type:t,args:n}),e.forEach((function(e){return e(n,l,t)}))};if("initialize"===t){if(d)return l("error",new Error("Tracker is already initialized"));d=!0,i.unshift(o),r(l.next)}else l(o),l((function(){return a.pop()}))}return l};return l.version="6.13.2",l.create=o,l.debug=!1,l.set=function(t,n){"object"==typeof t?Object.keys(t).forEach((function(n){return l.set(n,t[n])})):u[t]=n},l.get=function(t){return t?u[t]:u},l.on=function(t,n){(s[t]=s[t]||[]).push(n),a.forEach((function(e){return e.type===t&&n(e.args,l,t)}))},l.off=function(t,n){s[t]=(s[t]||[]).filter((function(t){return n&&t!==n}))},l.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];l.debug&&console.log.apply(console,e(["%c".concat(l.uuid,":"),"font-weight:bold"],t,!1))},l.load=function(t,n){f[n]||(f[n]=!0,l((function(){return function(t){var n=t.src,e=t.onload,o=void 0===e?Function.prototype:e,r=t.crossorigin,c=void 0===r||r,i=t.nomodule,a=void 0!==i&&i,u=t.defer,s=void 0!==u&&u,f=t.type,d=document.querySelector('script[src="'.concat(n,'"]'))||document.createElement("script"),l=d.queue=d.queue||[];l.length?l.push(o):d.parentNode?o(d):(l.push(o),d.async=!0,d.onload=function(){return l.splice(0).forEach((function(t){return t(d)}))},d.setAttribute("src",n),c&&-1===n.indexOf("//localhost")&&d.setAttribute("crossorigin","anonymous"),a&&(d.noModule=!0),s&&(d.defer=!0),f&&(d.type=f),document.head.appendChild(d))}({src:t,onload:function(e){l.log("Loading ".concat(t));var o=n.split("."),r=o[0],c=o[1],i=window[r]&&window[r][c];"function"==typeof i?i(l):l("error",new Error("Expected ".concat(e.src," to expose function at window.").concat(n))),l.next()}}),!1})))},l.next=function(){var t=i.index=i.length,n=i.shift(),e=t&&n(l);"object"==typeof e&&null!==e&&"then"in e&&"function"==typeof e.then?e.then(l.next):t&&!1!==e&&l.next()},l.contains=function(t){for(var n=t;n;n=n.parentElement)if(n.hasAttribute(c))return n.hasAttribute(l.attr)&&t;return!1},l.uuid="",l.attr="",l.on("error",(function(t){return console.error("%c".concat(l.uuid||"Core Analytics",":"),"font-weight:bold",t.message)})),l.on("context",(function(t){return"userId"in t&&l.set("userId",t.userId)})),l.on("pageview",(function(e){void 0===e&&(e={}),e.tnsSection&&(l.load("".concat(t,"/statistics/unispring.min.js"),"".concat(n,".statistics/unispring")),l.load("".concat(t,"/statistics/tns.min.js"),"".concat(n,".statistics/tns")))})),l.on("recommendations",(function(){return l.load("".concat(t,"/recommendations/ecommerce.min.js"),"".concat(n,".recommendations/ecommerce"))})),l.on("ecLite",(function(){return l.load("".concat(t,"/statistics/ecommerce-lite.min.js"),"".concat(n,".statistics/ecommerce-lite"))})),l.on("optimize",(function(){return l.load("".concat(t,"/experiments/optimize.min.js"),"".concat(n,".experiments/optimize"))})),l.on("time-spent",(function(){return l.load("".concat(t,"/engagement/time-spent.min.js"),"".concat(n,".engagement/time-spent"))})),l.on("content-consumed",(function(){return l.load("".concat(t,"/engagement/content-consumed.min.js"),"".concat(n,".engagement/content-consumed"))})),l.on("initialize",(function(e){if(void 0===e&&(e={}),/\W/.test(e.trackerName||""))return l("error",new Error("trackerName can only contain alphanumeric characters"));var o=e.container||document.documentElement;l.uuid="ca_".concat(e.trackerName||Math.round(Date.now()*Math.random()).toString(32)),l.attr="".concat(c,"-").concat(l.uuid.replace(/[\W_]+/g,"-")),o.setAttribute(c,""),o.setAttribute(l.attr,""),l.set({userId:e.userId,parentId:e.parentId,clientId:e.clientId}),e.debug&&l.log("Debug:",l.debug=Boolean(e.debug)),e.ga&&l.load("".concat(t,"/statistics/analytics.min.js"),"".concat(n,".statistics/analytics"))})),l}();return i}(),function(){var t=window.coreAnalytics||!1,n=window.CA6["core-analytics"];(!t.version||parseInt(t.version,10)<parseInt(n.version,10))&&(window.coreAnalytics=n(t))}();
//# sourceMappingURL=core-analytics.min.js.map
